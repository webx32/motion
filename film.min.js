/*! motion v0.0.0 | (c) 2014, 2015/03/19 | film | motion Foundation, Inc. */
!function(){!function(){!function(){if(!window.Motion){var a={version:"1.1",add:function(a,b){for(var c=window,d=arguments.callee,e=null,f=(/^([\w\.]+)(?:\:([\w\.]+))?\s*$/.test(a),RegExp.$1.split(".")),g=RegExp.$2.split("."),a=f.pop(),h=/[A-Z]/.test(a.substr(0,1)),i=function(){var a=arguments.callee.prototype.init;"function"==typeof a&&arguments.callee.caller!=d&&a&&a.apply(this,arguments)},j=0;j<f.length;j++){var k=f[j];c=c[k]||(c[k]={})}if(""!=g[0]){e=window;for(var j=0;j<g.length;j++)if(e=e[g[j]],!e){e=null;break}}h&&"function"==typeof b?(e&&(i.prototype=new e,i.prototype.superClass=e),c[a]=i,i.prototype.constructor=i,b.call(c[a].prototype)):c[a]=b}};window.Motion=window.mo=a}}()}(),function(){Motion.add("mo.Base",function(){{var a=this;this.constructor}a.constructor=function(){},a.on=function(){return box=Zepto(this),box.on.apply(box,arguments)},a.off=function(){return box=Zepto(this),box.off.apply(box,arguments)},a.trigger=function(){var a=Zepto(this);return a.triggerHandler.apply(a,arguments)}})}(),function(){Motion.add("mo.Film:mo.Base",function(){var a=this,b={empty:function(){},imgSingleLoader:function(a,b){var c=new Image;c.onload=function(){b({width:c.width,height:c.height}),c.onload=null},c.src=a},resLoader:function(a,c,d){var e=a.length,f=0;$.each(a,function(a,g){b.imgSingleLoader(g,function(a){c(++f,e,a),f==e&&d(a)})})},animation:function(){for(var a,b,c=0,d=["ms","moz","webkit","o"],e=0;e<d.length&&!window.requestAnimationFrame;++e)a=window[d[e]+"RequestAnimationFrame"],b=window[d[e]+"CancelAnimationFrame"]||window[d[e]+"CancelRequestAnimationFrame"];return a||(a=function(a){var b=(new Date).getTime(),d=Math.max(0,16-(b-c)),e=window.setTimeout(function(){a(b+d)},d);return c=b+d,e}),b||(b=function(a){clearTimeout(a)}),{request:a,cancel:b}}(),aniType:{linear:function(a,b,c,d){return c*a/d+b},easeIn:function(a,b,c,d){return c*(a/=d)*a+b},easeOut:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},easeInOut:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b}},uniqueID:function(){var a=(new Date).getTime().toString(),b=1,c=function(){return a+b++};return function(a){return a&&(a.uniqueID||(a.uniqueID=c()))}}()},c=this.constructor;c.config={resource:[],totalFrame:10,spriteDirect:0,index:0,playTime:1e3,aniType:"linear",onLoading:b.empty,onComplete:b.empty,onPlaying:b.empty,aniComplete:b.empty},a.init=function(a,d){if(a){this.config=Zepto.extend(!0,{},c.config,d);var e=this.config,f=this;Zepto.extend(f,{resource:[].concat(e.resource),curIndex:0,isLoading:!0,totalFrame:e.totalFrame,filmSize:{},filmNode:a,frameStyles:[],animationId:null}),b.resLoader(f.resource,e.onLoading,function(b){f.isLoading=!1;var c=f.totalFrame,g=f.filmSize,h=f.frameStyles;if(1==f.resource.length){var i=function(){g.width=b.width/c,g.height=b.height;for(var a=0;c>a;a++)h.push("url("+f.resource[0]+") -"+g.width*a+"px 0 no-repeat;")},j=function(){g.width=b.width,g.height=b.height/c;for(var a=0;c>a;a++)h.push("url("+f.resource[0]+") 0 -"+g.height*a+"px no-repeat;")};1==d.spriteDirect?i():2==d.spriteDirect?j():b.width>b.height?i():j()}else{c=f.totalFrame=f.resource.length,f.filmSize=b,f.filmNode=document.createElement("img"),a.appendChild(f.filmNode);for(var k=0;c>k;k++)h.push(f.resource[k])}e.onComplete(b),f.jumpTo(e.index)})}},b.formatOpt=function(a,b){var c={};return"string"==typeof b&&(b={direction:b}),c=Zepto.extend(!0,{},a,b),c.direction="backward"==c.direction?"backward":"forward",c},a.jumpTo=function(a){var b=this;if(!b.isLoading)return 0>a?a-=Math.floor(a/b.totalFrame)*b.totalFrame:a%=b.totalFrame,1==b.resource.length?Zepto(b.filmNode).css({width:b.filmSize.width,height:b.filmSize.height,background:b.frameStyles[a]}):b.filmNode.src=b.frameStyles[a],b.curIndex=a,b.config.onPlaying(b.curIndex),b},a.next=function(){var a=this;return a.jumpTo(a.curIndex+1),a},a.prev=function(){var a=this;return a.jumpTo(a.curIndex-1),a},a.playByIndex=function(a,c){var d=this;c=b.formatOpt(d.config,c);var e=0;return a%=d.totalFrame,e="forward"==c.direction&&d.curIndex>=a||"backward"==c.direction&&d.curIndex<=a?d.totalFrame-d.curIndex+a:a-d.curIndex,d.playByNum(e,c),d},a.playByNum=function(a,c){var d=this;d.aid&&d.pause(),c=b.formatOpt(d.config,c);var e=(new Date).getTime(),f=e+c.playTime,g="function"==typeof c.aniType?c.aniType:b.aniType[c.aniType]||b.aniType.linear,h=0,i=g(h+1,e,c.playTime,a);return function j(k){k>=i&&(h++,i=g(h+1,e,c.playTime,a),"forward"==c.direction?d.next():d.prev()),f>=k?d.aid=b.animation.request(j):(d.aid=null,c.aniComplete(d.curIndex))}(e),d},a.play=function(a,c){c=c||"forward";var d=this;d.aid&&d.pause();var e=(new Date).getTime(),f=e;return function g(e){d.aid=b.animation.request(g),e>f+a&&(f=e,"forward"==c?d.next():d.prev())}(e),d},a.pause=function(){var a=this;return b.animation.cancel(a.aid),a.aid=null,a}})}()}();/*  |xGv00|106e31d1c40db40b92961a73ee2c28bf */